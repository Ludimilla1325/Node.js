<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <body>
            <div class="send_message" style="background: gold;padding: 10px;">
                Send message
            </div>
        </body>
    </head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.slim.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>

        var socket = io();

        socket.on('connect', function(){
            console.log('connected to server')
       
            //Custom Event
            socket.on('newMessage', function(message,cb){
                console.log('Message received', message)

                cb()
            })

            $('.send_message').on('click', function(){
                socket.emit('sendMess',{
                from:"James",
                message:"Hello, its me your looking for..."
                }, function(){
                    console.log('Everything worked')
                })
            })

            socket.on('disconnect', function(){
                console.log('Disconnected...')
            });
       
        })

       

    </script>
</html>